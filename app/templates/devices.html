{% extends "layout.html" %}
{% block content %}

<h1 class="mb-3">Devices</h1>

<a class="btn btn-primary mb-3" href="{{ url_for('new_device') }}">+ Add New Device</a>

<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Hostname</th>
            <th>Notes</th>
            <th>Actions</th>
        </tr>
    </thead>

    {% for d in devices %}
    <tr>
        <td>{{ d.id }}</td>
        <td>{{ d.name }}</td>
        <td>{{ d.hostname }}</td>
        <td>{{ d.notes }}</td>
<td>
    <a class="btn btn-sm btn-secondary"
       href="{{ url_for('device_checklist', device_id=d.id) }}">
        Open Checklist
    </a>

    <a class="btn btn-sm btn-outline-secondary"
       href="{{ url_for('device_dashboard', device_id=d.id) }}">
        Dashboard
    </a>

    <a class="btn btn-sm btn-outline-primary"
       href="{{ url_for('edit_device', device_id=d.id) }}">
        Edit
    </a>

    <form method="post"
          action="{{ url_for('delete_device_route', device_id=d.id) }}"
          style="display:inline;"
          onsubmit="return confirm('Delete this device and all its reviews?');">
        <button class="btn btn-sm btn-danger">
            Delete
        </button>
    </form>
</td>


    </tr>
    {% endfor %}
</table>

{% endblock %}
